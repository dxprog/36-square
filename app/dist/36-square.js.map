{"version":3,"sources":["webpack:///webpack/bootstrap 22d21173911e547f80b9","webpack:///./app/js/index.tsx","webpack:///external \"ReactDOM\"","webpack:///./app/js/components/canvas.tsx","webpack:///external \"React\""],"names":[],"mappings":"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","file":"36-square.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 22d21173911e547f80b9","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport Canvas from './components/canvas';\r\n\r\nconst body = document.getElementById('body');\r\nlet canvas: Canvas;\r\n\r\nfunction handleCanvasClicked(coords: any) {\r\n  console.log(coords.x, coords.y);\r\n  canvas.setPixel(coords.x, coords.y, 0xffffff);\r\n}\r\n\r\nReactDOM.render(<Canvas ref={obj => canvas = obj} rows={6} cols={6} tileSize={100} onClick={handleCanvasClicked} />, body);\n\n\n// WEBPACK FOOTER //\n// ./app/js/index.tsx","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 1\n// module chunks = 0","import * as React from 'react';\r\n\r\ninterface CanvasProps {\r\n  cols: number;\r\n  rows: number;\r\n  tileSize: number;\r\n  onClick?: Function;\r\n}\r\n\r\nfunction padNum(str: string, len: number): string {\r\n  while (str.length < len) {\r\n    str = '0' + str;\r\n  }\r\n  return str;\r\n}\r\n\r\nexport default class Canvas extends React.Component<CanvasProps, {}> {\r\n\r\n  refs: {\r\n    [key: string]: (Element);\r\n    canvas: HTMLCanvasElement;\r\n  }\r\n\r\n  /**\r\n   * Handle to the canvas element\r\n   */\r\n  canvas: HTMLCanvasElement;\r\n\r\n  /**\r\n   * The number of canvas pixels per column\r\n   */\r\n  widthPerCol: number;\r\n\r\n  /**\r\n   * The number of canvas pixels per row\r\n   */\r\n  heightPerRow: number;\r\n\r\n  /**\r\n   * Pixel data\r\n   */\r\n  pixelData: Uint32Array;\r\n\r\n  /*******************************\r\n   *  LIFECYCLE METHODS\r\n   ******************************/\r\n\r\n  constructor(props: CanvasProps) {\r\n    super(props);\r\n\r\n    this.pixelData = new Uint32Array(props.cols * props.rows);\r\n  }\r\n\r\n  render() {\r\n    const width = this.props.cols * this.props.tileSize;\r\n    const height = this.props.rows * this.props.tileSize;\r\n\r\n    return <canvas ref=\"canvas\" width={width} height={height} onClick={this.handleCanvasClick.bind(this)} />;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.canvas = this.refs.canvas;\r\n    this.widthPerCol = this.canvas.width / this.props.cols;\r\n    this.heightPerRow = this.canvas.height / this.props.rows;\r\n    this.renderCanvas();\r\n  }\r\n\r\n  /*******************************\r\n   *  EVENT HANDLERS\r\n   ******************************/\r\n\r\n  handleCanvasClick(evt: MouseEvent) {\r\n    const { onClick } = this.props;\r\n\r\n    if (onClick) {\r\n      onClick({\r\n        x: Math.floor(evt.clientX / this.widthPerCol),\r\n        y: Math.floor(evt.clientY / this.heightPerRow)\r\n      });\r\n    }\r\n  }\r\n\r\n  /*******************************\r\n   *  PUBLIC METHODS\r\n   ******************************/\r\n\r\n  setPixel(x: number, y:number, color: number) {\r\n    if (x >= this.props.cols || x < 0) {\r\n      throw new Error(`${x} is outside of canvas bounds. Width is ${this.props.cols}`);\r\n    }\r\n\r\n    if (y >= this.props.rows || y < 0) {\r\n      throw new Error(`${y} is outside of canvas bounds. Height is ${this.props.rows}`);\r\n    }\r\n\r\n    const index = y * this.props.cols + x;\r\n    this.pixelData[index] = color;\r\n\r\n    this.renderCanvas();\r\n  }\r\n\r\n  /*******************************\r\n   *  PRIVATE METHODS\r\n   ******************************/\r\n  private renderCanvas() {\r\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext('2d');\r\n    const { width, height } = this.canvas;\r\n\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    this.pixelData.forEach((color, index) => {\r\n      const x = (index % this.props.cols) * this.widthPerCol;\r\n      const y = Math.floor(index / this.props.cols) * this.heightPerRow;\r\n      ctx.fillStyle = `#${padNum(color.toString(16), 6)}`;\r\n      ctx.fillRect(x, y, this.widthPerCol, this.heightPerRow);\r\n    });\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/js/components/canvas.tsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}